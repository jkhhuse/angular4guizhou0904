<div style="padding:20px">
  <nz-steps [(nzCurrent)]="current">
    <nz-step [nzTitle]="'应用部署'"></nz-step>
    <nz-step [nzTitle]="'镜像配置'"></nz-step>
    <nz-step [nzTitle]="'服务配置'"></nz-step>
    <nz-step [nzTitle]="'部署成功'"></nz-step>
  </nz-steps>
  <div class="steps-content">
    <!-- {{index}} -->
    <!-- 这里是四个form，都写出来，然后每个是不同的div布局，可以把这四个分步骤表单看成一个页面，然后控制ngif可见性
          最后把四个form的数据封装到一起 -->
    <div>
      <!-- 应用部署 -->
      <div [hidden]="current !== 0">
        <nz-layout>
          <nz-content>
            <div class="marginTop20">
              <p>应用部署</p>
              <div class="borderTop80" nz-row>
                <dynamic-form #formFirstProject [config]="formFirst">
                </dynamic-form>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                              font-size: 13px;
                              font-weight: 400;
                              letter-spacing: 0px;
                              margin-bottom: 10px;
                              color: rgba(0, 0, 0, 0.9);">资源池</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <!-- <nz-radio-group [(ngModel)]="this.radioValue" (click)="toggleButton()"> -->
                    <nz-radio-group [(ngModel)]="this.radioValue">
                      <label nz-radio [nzValue]="'product'" style="margin-right: 25px">
                        <span>生产域</span>
                        <!-- <nz-tooltip [nzPlacement]="'rightTop'">
                          <i nz-tooltip class="anticon anticon-question-circle-o" style="position: absolute; right: -10px;"></i>
                          <ng-template #nzTemplate>
                            <div>
                              <p>如果选了生产域</p>
                              <p>每个镜像的基本配置中添加区域选项(互联网、portal、核心)</p>
                              <p>
                                每个服务的基本配置中添加区域选项(互联网、portal、核心)
                              </p>
                            </div>
                          </ng-template>
                        </nz-tooltip> -->
                        <!-- <i class="anticon anticon-question-circle-o" style="position: absolute; right: -10px;"></i> -->
                      </label>
                      <label nz-radio [nzValue]="'test'">
                        <span>测试域</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
              </div>
            </div>
          </nz-content>
        </nz-layout>
      </div>

      <!-- 镜像配置 -->
      <div [hidden]="current !== 1">
        <nz-layout>
          <nz-content>
            <div class="marginTop20">
              <p>镜像配置</p>
              <div class="borderTop80">
                <nz-tabset [nzTabPosition]="'top'" [nzType]="'card'">
                  <nz-tab (nzDeselect)="choosedImageFunc(tab)" *ngFor="let tab of imageTabs">
                    <ng-template #nzTabHeading>
                      {{tab}}
                    </ng-template>
                    <!-- <span>Content of Tab Pane {{tab.index}}</span> -->
                  </nz-tab>
                </nz-tabset>
              </div>
            </div>

            <div class="marginTop20">
              <p class="borderBottom80">基本配置</p>
              <div nz-row style="margin-bottom: 15px">
                <div style="margin-bottom: 10px" *ngIf="this.radioValue === 'product'" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">集群</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <!-- 这里需要绑定click事件，触发toggleButton事件，现在的逻辑是在资源池选择上，会触发getIptags函数，因为每个资源池下只有一个集群，可以测试，但是当每个资源池下的
              集群数量》1的时候，需要在这里绑定click事件，切换集群的时候，重新调用getIp函数，现在线上没有多集群，所以暂时不测试 -->
                    <nz-radio-group [(ngModel)]="this.networkRadioValue">
                      <label *ngFor="let cluster of prodCluster" nz-radio [nzValue]="cluster.name">
                        <span>{{ cluster.displayName }}</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
                <div style="margin-bottom: 10px" *ngIf="this.radioValue === 'test'" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">集群</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.networkRadioValue2">
                      <label *ngFor="let cluster of testCluster" nz-radio [nzValue]="cluster.name">
                        <span>{{ cluster.name }}</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
                <dynamic-form #formSecondProject [config]="formSecond">getValue('tabname')
                </dynamic-form>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                              font-size: 13px;
                              font-weight: 400;
                              letter-spacing: 0px;
                              margin-bottom: 10px;
                              color: rgba(0, 0, 0, 0.9);">容器实例大小</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px">
                    <app-container-instance #instanceSecond [config]="instanceConfig">
                    </app-container-instance>
                  </div>
                </div>
              </div>
            </div>

            <div class="marginTop20">
              <p class="borderBottom80">网络配置</p>
              <div nz-row style="margin-bottom: 15px">
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">网络模式</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.networkConfig">
                      <label nz-radio [nzValue]="'FLANNEL'">
                        <span>Flannel</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
              </div>
              <!-- <dynamic-form #formImgNetworkProject [config]="formImgNetwork"></dynamic-form> -->
              <!-- todo next -->
              <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <!-- <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">网络模式</span> -->
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="4" *ngFor="let label of lbControlLabel">
                            <span>{{ label.value }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                        font-size: 13px;
                                        font-weight: 400;
                                        letter-spacing: 0px;
                                        margin-bottom: 10px;
                                        color: rgba(0, 0, 0, 0.9);">负载均衡器</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <form nz-form class="dynamic-form" [formGroup]="loadBanlancerForm">
                          <div nz-row [nzGutter]="16" *ngFor="let control1 of lbControlArray">
                            <div nz-col [nzSpan]="4" *ngFor="let control of control1" [class.d-none]="!control.show">
                              <div nz-form-item nz-row>
                                <!-- <div nz-form-label nz-col>
                                        <label [attr.for]="'field' + control.index">Field {{control.index}}</label>
                                      </div> -->
                                <div *ngIf="control.type === 'input'" nz-form-control nz-col>
                                  <nz-input [ngModel]="control.defaultValue" [nzType]="control.inputType" [nzDisabled]="control.disabled" [nzSize]="'large'"
                                    [nzPlaceHolder]="control.placeholder" [formControlName]="control.name"></nz-input>
                                </div>
                                <div *ngIf="control.type === 'select'" nz-form-control nz-col [nzSm]="20">
                                  <nz-select [formControlName]="control.name" [nzPlaceHolder]="control.placeholder" nzAllowClear [nzDisabled]="control.disabled">
                                    <nz-option *ngFor="let option of control.options" [nzValue]="option" [nzLabel]="option">
                                    </nz-option>
                                  </nz-select>
                                </div>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <div nz-row>
                  <div nz-row>
                    <div nz-col [nzSpan]="4" style="text-align: right">
                      <!-- <span style="display: block;
                                            font-size: 13px;
                                            font-weight: 400;
                                            letter-spacing: 0px;
                                            margin-bottom: 10px;
                                            color: rgba(0, 0, 0, 0.9);">日志文件</span> -->
                    </div>
                    <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-bottom: 10px">
                      <div nz-row>
                        <button nz-button [nzType]="'dashed'" [nzSize]="'large'" class="ant-btn__block mt-md" (click)="addLb()">
                          <i class="anticon anticon-plus"></i>
                          <span>新增负载均衡</span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="marginTop20">
              <p class="borderBottom80">高级配置</p>
              <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                        font-size: 13px;
                                        font-weight: 400;
                                        letter-spacing: 0px;
                                        margin-bottom: 10px;
                                        color: rgba(0, 0, 0, 0.9);">服务类型</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.serviceType">
                      <label nz-radio [nzValue]="'stateless'">
                        <span>无状态服务</span>
                      </label>
                      <!-- <label nz-radio [nzValue]="'stateful'">
                        <span>有状态服务</span>
                      </label> -->
                    </nz-radio-group>
                  </div>
                </div>
              </div>
              <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <!-- <span style="display: block;
                                          font-size: 13px;
                                          font-weight: 400;
                                          letter-spacing: 0px;
                                          margin-bottom: 10px;
                                          color: rgba(0, 0, 0, 0.9);">日志文件</span> -->
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="4" *ngFor="let label of serviceAdvancedLabel">
                            <span>{{ label.value }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <dynamic-form #logFormProject1 [config]="logFormConfig">
              </dynamic-form>
              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <!-- <span style="display: block;
                                          font-size: 13px;
                                          font-weight: 400;
                                          letter-spacing: 0px;
                                          margin-bottom: 10px;
                                          color: rgba(0, 0, 0, 0.9);">日志文件</span> -->
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-bottom: 10px">
                    <div nz-row>
                      <button nz-button [nzType]="'dashed'" [nzSize]="'large'" class="ant-btn__block mt-md" (click)="addLogFile()">
                        <i class="anticon anticon-plus"></i>
                        <span>新增日志文件</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- todo next -->
              <!-- <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="4">
                            <span>名称</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div> -->
              <!-- todo next -->
              <!-- todo next -->
              <!-- <dynamic-form #envFormProject1 [config]="envFormConfig">
              </dynamic-form> -->
              <!-- todo next -->
              <!-- todo next -->
              <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="10" *ngFor="let label of env1">
                            <span>{{ label.value }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- todo next -->
              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                        font-size: 13px;
                                        font-weight: 400;
                                        letter-spacing: 0px;
                                        margin-bottom: 10px;
                                        color: rgba(0, 0, 0, 0.9);">环境变量</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <div nz-row>
                      <div nz-col [nzMd]="20">
                        <form nz-form class="dynamic-form" [formGroup]="env1Form">
                          <div nz-row [nzGutter]="16">
                            <div *ngFor="let control1 of env1Array">
                              <div nz-col [nzSpan]="10" *ngFor="let control of control1">
                                <div nz-form-item nz-row>
                                  <div *ngIf="control.type === 'input'" nz-form-control nz-col>
                                    <nz-input [nzSize]="'large'" [nzPlaceHolder]="control.placeholder" [formControlName]="control.name"></nz-input>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div *ngFor="let arr of env1Array">
                {{ arr || json }}
                <div *ngFor="let arr1 of arr">
                  {{ arr1.name || json }}
                </div>
              </div> -->
              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <!-- <span style="display: block;
                                          font-size: 13px;
                                          font-weight: 400;
                                          letter-spacing: 0px;
                                          margin-bottom: 10px;
                                          color: rgba(0, 0, 0, 0.9);">日志文件</span> -->
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-bottom: 10px">
                    <div nz-row>
                      <button nz-button [nzType]="'dashed'" [nzSize]="'large'" class="ant-btn__block mt-md" (click)="addEnv()">
                        <i class="anticon anticon-plus"></i>
                        <span>新增环境变量</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- 配置文件 -->
              <!-- <div nz-row>
                <div style="margin-bottom: 10px" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                        font-size: 13px;
                                        font-weight: 400;
                                        letter-spacing: 0px;
                                        margin-bottom: 10px;
                                        color: rgba(0, 0, 0, 0.9);">内容选取方式</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.configFileRadio">
                      <label nz-radio [nzValue]="'config'" style="margin-right: 25px">
                        <span>选择</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
              </div> -->
              <!-- <dynamic-form #configFileForm [config]="configFile">
              </dynamic-form> -->
              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                        font-size: 13px;
                                        font-weight: 400;
                                        letter-spacing: 0px;
                                        margin-bottom: 10px;
                                        color: rgba(0, 0, 0, 0.9);">配置文件</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-table #nzTable [nzAjaxData]="configFileData" [nzIsPagination]="false">
                      <thead nz-thead>
                        <tr>
                          <th nz-th>
                            <span>文件路径</span>
                          </th>
                          <th nz-th>
                            <span>配置项</span>
                          </th>
                        </tr>
                      </thead>
                      <tbody nz-tbody>
                        <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                          <td nz-td>
                            {{data.path}}
                          </td>
                          <td nz-td>{{data.valueKey}}</td>
                        </tr>
                      </tbody>
                    </nz-table>
                  </div>
                </div>
              </div>
              <div nz-row>
                <div nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <!-- <span style="display: block;
                                          font-size: 13px;
                                          font-weight: 400;
                                          letter-spacing: 0px;
                                          margin-bottom: 10px;
                                          color: rgba(0, 0, 0, 0.9);">日志文件</span> -->
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-top: 10px; margin-left: 10px; margin-bottom: 10px">
                    <div nz-row>
                      <button nz-button [nzType]="'dashed'" [nzSize]="'large'" class="ant-btn__block mt-md" (click)="addConfigFile()">
                        <i class="anticon anticon-plus"></i>
                        <span>新增配置文件</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <nz-modal [nzVisible]="isVisible" [nzTitle]="'添加配置文件'" [nzContent]="modalContent" (nzOnCancel)="handleCancelConfig($event)" (nzOnOk)="handleOkConfig($event)">
                <ng-template #modalContent>
                  <div nz-row>
                    <div style="margin-bottom: 10px" nz-row>
                      <div nz-col [nzSpan]="4" style="text-align: right">
                        <span style="display: block;
                                            font-size: 13px;
                                            font-weight: 400;
                                            letter-spacing: 0px;
                                            margin-bottom: 10px;
                                            color: rgba(0, 0, 0, 0.9);">内容选取方式</span>
                      </div>
                      <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                        <nz-radio-group [(ngModel)]="this.configFileRadio">
                          <label nz-radio [nzValue]="'config'" style="margin-right: 25px">
                            <span>选择</span>
                          </label>
                        </nz-radio-group>
                      </div>
                    </div>
                    <dynamic-form #configFileForm [config]="configFile">
                    </dynamic-form>
                  </div>
                </ng-template>
              </nz-modal>
              <!-- todo next -->
            </div>
          </nz-content>
        </nz-layout>
      </div>

      <!-- 服务配置 -->
      <div [hidden]="current !== 2">
        <nz-layout>
          <nz-content [hidden]="serviceTabs.length === 0">
            <div class="marginTop20">
              <p>服务配置</p>
              <div class="borderTop80">
                <!-- <nz-tabset [nzTabPosition]="'top'" [nzType]="'card'">
                  <nz-tab (nzSelect)="choosedServiceFunc(tab)" *ngFor="let tab of serviceTabs">
                    <ng-template #nzTabHeading>
                      {{tab}}
                    </ng-template>
                  </nz-tab>
                </nz-tabset> -->
                <dynamic-form #formThird5Project [config]="formThird5"></dynamic-form>
                <!-- <nz-alert class="service-tips" [nzType]="'info'">
                  <span alert-body nz-row>
                    <div style="text-align: center; font-size: 20px; color:#10a5ef" nz-col [nzSpan]="1">
                      <i class="anticon anticon-exclamation-circle-o"></i>
                    </div>
                    <div nz-col [nzSpan]="21">
                      <div>
                        <p>基本信息</p>
                        <span>该模板用于在IT-PaaS 上部署 {{ choosedServiceName }}</span>
                      </div>
                    </div>
                  </span>
                </nz-alert> -->
              </div>
            </div>
            <div class="marginTop20" *ngIf="true === false">
              <p class="borderBottom80">基本配置</p>
              <div nz-row style="margin-bottom: 15px">
                <div style="margin-bottom: 10px" *ngIf="this.radioValue === 'product'" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">集群</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.networkRadioValue">
                      <label *ngFor="let cluster of prodCluster" nz-radio [nzValue]="cluster.name">
                        <span>{{ cluster.displayName }}</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
                <div style="margin-bottom: 10px" *ngIf="this.radioValue === 'test'" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                      font-size: 13px;
                                      font-weight: 400;
                                      letter-spacing: 0px;
                                      margin-bottom: 10px;
                                      color: rgba(0, 0, 0, 0.9);">集群</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group [(ngModel)]="this.networkRadioValue2">
                      <label *ngFor="let cluster of testCluster" nz-radio [nzValue]="cluster.name">
                        <span>{{ cluster.displayName }}</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
                <dynamic-form #formThirdProject [config]="formThird">
                </dynamic-form>
                <div *ngIf="formThird1.length > 0 && formThird1Radios.length > 0">
                  <div *ngIf="choosedServiceName  === 'redis'" class="marginBottom15" nz-row>
                    <div nz-col [nzSpan]="4" style="text-align: right">
                      <span style="display: block;
                                    font-size: 13px;
                                    font-weight: 400;
                                    letter-spacing: 0px;
                                    margin-bottom: 10px;
                                    color: rgba(0, 0, 0, 0.9);">运行模式</span>
                    </div>
                    <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                      <nz-radio-group (click)="toggleRadio()" [(ngModel)]="this.modelValue">
                        <label nz-radio [nzValue]="'replication'">
                          <span>replication</span>
                        </label>
                      </nz-radio-group>
                    </div>
                  </div>
                  <!-- 这里可以用zookeeper && radio === true，也可以和上面redis一样的处理逻辑 -->
                  <!-- <dynamic-form *ngIf="choosedServiceName  === 'zookeeper'" #formThird4Project [config]="formThird4"></dynamic-form> -->
                  <dynamic-form #formThird1Project [config]="formThird1">
                  </dynamic-form>
                  <dynamic-form *ngIf="choosedServiceName  === 'redis'" #formThird3Project [config]="formThird3"></dynamic-form>
                  <div nz-row>
                    <div nz-col [nzSpan]="4" style="text-align: right">
                      <span style="display: block;
                                  font-size: 13px;
                                  font-weight: 400;
                                  letter-spacing: 0px;
                                  margin-bottom: 10px;
                                  color: rgba(0, 0, 0, 0.9);">容器实例大小</span>
                    </div>
                    <div nz-col [nzSpan]="18" style="margin-left: 10px">
                      <app-container-instance #instanceThird [config]="formThird1Radios">
                      </app-container-instance>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="marginTop20" *ngIf="true === false">
              <p class="borderBottom80">高级配置</p>
              <div nz-row style="margin-bottom: 15px">
                <dynamic-form #formThird2Project [config]="formThird2"></dynamic-form>
                <div class="marginBottom15" *ngFor="let formThird2Radio of formThird2Radios" nz-row>
                  <div nz-col [nzSpan]="4" style="text-align: right">
                    <span style="display: block;
                                  font-size: 13px;
                                  font-weight: 400;
                                  letter-spacing: 0px;
                                  margin-bottom: 10px;
                                  color: rgba(0, 0, 0, 0.9);">{{ formThird2Radio.label }}</span>
                  </div>
                  <div nz-col [nzSpan]="18" style="margin-left: 10px; margin-top: 4px">
                    <nz-radio-group (click)="toggleRadio()" [(ngModel)]="formThird2Radio.defaultValue">
                      <label *ngFor="let labelContent of formThird2Radio.labelContent" nz-radio [nzValue]="labelContent">
                        <span>{{ labelContent }}</span>
                      </label>
                    </nz-radio-group>
                  </div>
                </div>
                <!-- <dynamic-form *ngIf="choosedServiceName  === 'redis'" #formThird3Project [config]="formThird3"></dynamic-form> -->
                <!-- 这里可以用zookeeper && radio === true，也可以和上面redis一样的处理逻辑 -->
                <dynamic-form *ngIf="choosedServiceName  === 'zookeeper'" #formThird4Project [config]="formThird4"></dynamic-form>
              </div>
            </div>
          </nz-content>
          <nz-content *ngIf="serviceTabs.length === 0">
            <div class="marginTop20">
              <div class="borderTop80">
                <nz-alert class="service-tips" [nzType]="'info'">
                  <span alert-body nz-row>
                    <div style="text-align: center; font-size: 20px; color:#10a5ef" nz-col [nzSpan]="1">
                      <i class="anticon anticon-exclamation-circle-o"></i>
                    </div>
                    <div nz-col [nzSpan]="21">
                      <div>
                        <p>无需服务配置</p>
                        <span>该应用没有依赖服务，请直接进行部署!</span>
                      </div>
                    </div>
                  </span>
                </nz-alert>
              </div>
            </div>
          </nz-content>
        </nz-layout>
      </div>
    </div>
  </div>
  <div class="steps-action" nz-row>
    <!-- TODO -->
    <!-- disabled? next函数控制 -->
    <div nz-col [nzSpan]="4"></div>
    <div nz-col [nzSpan]="18">
      <span [hidden]="current >= 2">
        <button [disabled]="buttonDisabled()" nz-button [nzType]="'primary'" (click)="next()">
          <span>下一步</span>
        </button>
      </span>
      <span [hidden]="current !== 2">
        <button [disabled]="buttonDisabled()" nz-button [nzType]="'primary'" (click)="done()">
          <span>部署</span>
        </button>
      </span>
      <span [hidden]="current <= 0">
        <button nz-button [nzType]="'default'" (click)="pre()">
          <span>上一步</span>
        </button>
      </span>
      <span [hidden]="current !== 0">
        <button nz-button [nzType]="'default'" (click)="pre()">
          <span>取消</span>
        </button>
      </span>
    </div>
  </div>
</div>